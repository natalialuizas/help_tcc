{"remainingRequest":"/home/natalia/dev/tcc/projeto/frontend/node_modules/babel-loader/lib/index.js!/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/natalia/dev/tcc/projeto/frontend/src/components/article/ArticlesByCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/natalia/dev/tcc/projeto/frontend/src/components/article/ArticlesByCategory.vue","mtime":1572279427488},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYmFzZUFwaVVybCB9IGZyb20gJ0AvZ2xvYmFsJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFBhZ2VUaXRsZSBmcm9tICIuLi9kYXNoYm9hcmQvdGVtcGxhdGUvUGFnZVRpdGxlIjsKaW1wb3J0IEFydGljbGVJdGVtIGZyb20gIi4vQXJ0aWNsZUl0ZW0iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FydGljbGVzQnlDYXRlZ29yeScsCiAgY29tcG9uZW50czogewogICAgUGFnZVRpdGxlOiBQYWdlVGl0bGUsCiAgICBBcnRpY2xlSXRlbTogQXJ0aWNsZUl0ZW0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXRlZ29yeToge30sCiAgICAgIGFydGljbGVzOiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgbG9hZE1vcmU6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXRlZ29yeTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KGJhc2VBcGlVcmwsICIvY2F0ZWdvcmllcy8iKS5jb25jYXQodGhpcy5jYXRlZ29yeS5pZCk7CiAgICAgIGF4aW9zKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmNhdGVnb3J5ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEFydGljbGVzOiBmdW5jdGlvbiBnZXRBcnRpY2xlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KGJhc2VBcGlVcmwsICIvY2F0ZWdvcmllcy8iKS5jb25jYXQodGhpcy5jYXRlZ29yeS5pZCwgIi9hcnRpY2xlcz9wYWdlPSIpLmNvbmNhdCh0aGlzLnBhZ2UpOwogICAgICBheGlvcyh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5hcnRpY2xlcyA9IF90aGlzMi5hcnRpY2xlcy5jb25jYXQocmVzLmRhdGEpOwogICAgICAgIF90aGlzMi5wYWdlKys7CiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PT0gMCkgX3RoaXMyLmxvYWRNb3JlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvKSB7CiAgICAgIHRoaXMuY2F0ZWdvcnkuaWQgPSB0by5wYXJhbXMuaWQ7CiAgICAgIHRoaXMuYXJ0aWNsZXMgPSBbXTsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5sb2FkTW9yZSA9IHRydWU7CiAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICAgICAgdGhpcy5nZXRBcnRpY2xlcygpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY2F0ZWdvcnkuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgICB0aGlzLmdldEFydGljbGVzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["ArticlesByCategory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA,SAAA,UAAA,QAAA,UAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA;AACA,OAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA,SAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,GAAA,aAAA,UAAA,yBAAA,KAAA,QAAA,CAAA,EAAA,CAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AAAA,OAAA;AACA,KAJA;AAKA,IAAA,WALA,yBAKA;AAAA;;AACA,UAAA,GAAA,aAAA,UAAA,yBAAA,KAAA,QAAA,CAAA,EAAA,4BAAA,KAAA,IAAA,CAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,MAAA,CAAA,IAAA;AAEA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,OALA;AAMA;AAbA,GAXA;AA0BA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA;AACA,WAAA,QAAA,CAAA,EAAA,GAAA,EAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,IAAA;AAEA,WAAA,WAAA;AACA,WAAA,WAAA;AACA;AATA,GA1BA;AAqCA,EAAA,OArCA,qBAqCA;AACA,SAAA,QAAA,CAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,SAAA,WAAA;AACA,SAAA,WAAA;AACA;AAzCA,CAAA","sourcesContent":["<template>\n    <div class=\"articles-by-category\">\n        <PageTitle icon=\"fa fa-folder-o\"\n            :main=\"category.name\" sub=\"Categoria\" />\n        <ul>\n            <li v-for=\"article in articles\" :key=\"article.id\">\n                <ArticleItem :article=\"article\" />\n            </li>\n        </ul>\n        <div class=\"load-more\">\n            <button v-if=\"loadMore\"\n                class=\"btn btn-lg btn-outline-primary\"\n                @click=\"getArticles\">Carregar Mais Artigos</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { baseApiUrl } from '@/global'\nimport axios from 'axios'\nimport PageTitle from '../dashboard/template/PageTitle'\nimport ArticleItem from './ArticleItem'\n\nexport default {\n    name: 'ArticlesByCategory',\n    components: { PageTitle, ArticleItem },\n    data: function() {\n        return {\n            category: {},\n            articles: [],\n            page: 1,\n            loadMore: true\n        }\n    },\n    methods: {\n        getCategory() {\n            const url = `${baseApiUrl}/categories/${this.category.id}`\n            axios(url).then(res => this.category = res.data)\n        },\n        getArticles() {\n            const url = `${baseApiUrl}/categories/${this.category.id}/articles?page=${this.page}`\n            axios(url).then(res => {\n                this.articles = this.articles.concat(res.data)\n                this.page++\n\n                if(res.data.length === 0) this.loadMore = false\n            })\n        }\n    },\n    watch: {\n        $route(to) {\n            this.category.id = to.params.id\n            this.articles = []\n            this.page = 1\n            this.loadMore = true\n\n            this.getCategory()\n            this.getArticles()\n        }\n    },\n    mounted() {\n        this.category.id = this.$route.params.id\n        this.getCategory()\n        this.getArticles()\n    }\n}\n</script>\n\n<style>\n    .articles-by-category ul {\n        list-style-type: none;\n        padding: 0px;\n    }\n\n    .articles-by-category .load-more {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        margin-top: 25px;\n    }\n</style>\n"],"sourceRoot":"src/components/article"}]}