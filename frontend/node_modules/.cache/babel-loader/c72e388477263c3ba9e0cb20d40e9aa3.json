{"remainingRequest":"/home/natalia/dev/tcc/projeto/frontend/node_modules/babel-loader/lib/index.js!/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/natalia/dev/tcc/projeto/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/natalia/dev/tcc/projeto/frontend/src/App.vue","mtime":1572287690257},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbmF0YWxpYS9kZXYvdGNjL3Byb2pldG8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGJhc2VBcGlVcmwsIHVzZXJLZXkgfSBmcm9tICJAL2dsb2JhbCI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC90ZW1wbGF0ZS9IZWFkZXIiOwppbXBvcnQgTWVudSBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL3RlbXBsYXRlL01lbnUiOwppbXBvcnQgQ29udGVudCBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL3RlbXBsYXRlL0NvbnRlbnQiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvdGVtcGxhdGUvRm9vdGVyIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC90ZW1wbGF0ZS9Mb2FkaW5nIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgTWVudTogTWVudSwKICAgIENvbnRlbnQ6IENvbnRlbnQsCiAgICBGb290ZXI6IEZvb3RlciwKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ2lzTWVudVZpc2libGUnLCAndXNlciddKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWRhdGluZ1Rva2VuOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVUb2tlbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3ZhbGlkYXRlVG9rZW4gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBqc29uLCB1c2VyRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGluZ1Rva2VuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1c2VyS2V5KTsKICAgICAgICAgICAgICAgIHVzZXJEYXRhID0gSlNPTi5wYXJzZShqc29uKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIG51bGwpOwoKICAgICAgICAgICAgICAgIGlmICh1c2VyRGF0YSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0aW5nVG9rZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2F1dGgnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoYmFzZUFwaVVybCwgIi92YWxpZGF0ZVRva2VuIiksIHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRtcSA9PT0gJ3hzJyB8fCB0aGlzLiRtcSA9PT0gJ3NtJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlTWVudScsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odXNlcktleSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXV0aCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0aW5nVG9rZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuKCkgewogICAgICAgIHJldHVybiBfdmFsaWRhdGVUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdmFsaWRhdGVUb2tlbjsKICAgIH0oKQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudmFsaWRhdGVUb2tlbigpOwogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAaA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,EAAA,OAAA,QAAA,UAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,wCAAA;AACA,OAAA,IAAA,MAAA,sCAAA;AACA,OAAA,OAAA,MAAA,yCAAA;AACA,OAAA,MAAA,MAAA,wCAAA;AACA,OAAA,OAAA,MAAA,yCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,IAAA,EAAA,IAAA;AAAA,IAAA,OAAA,EAAA,OAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,QAAA,EAAA,QAAA,CAAA,CAAA,eAAA,EAAA,MAAA,CAAA,CAHA;AAIA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,aADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,eAAA,GAAA,IAAA;AAEA,gBAAA,IAJA,GAIA,YAAA,CAAA,OAAA,CAAA,OAAA,CAJA;AAKA,gBAAA,QALA,GAKA,IAAA,CAAA,KAAA,CAAA,IAAA,CALA;AAMA,qBAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA;;AANA,oBAQA,QARA;AAAA;AAAA;AAAA;;AASA,qBAAA,eAAA,GAAA,KAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AAVA;;AAAA;AAAA;AAAA,uBAcA,KAAA,CAAA,IAAA,WAAA,UAAA,qBAAA,QAAA,CAdA;;AAAA;AAcA,gBAAA,GAdA;;AAgBA,oBAAA,GAAA,CAAA,IAAA,EAAA;AACA,uBAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,QAAA;;AAEA,sBAAA,KAAA,GAAA,KAAA,IAAA,IAAA,KAAA,GAAA,KAAA,IAAA,EAAA;AACA,yBAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA;AACA;AACA,iBANA,MAMA;AACA,kBAAA,YAAA,CAAA,UAAA,CAAA,OAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA;;AAEA,qBAAA,eAAA,GAAA,KAAA;;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GATA;AAuCA,EAAA,OAvCA,qBAuCA;AACA,SAAA,aAAA;AACA;AAzCA,CAAA","sourcesContent":["<template>\n\t<div id=\"app\" :class=\"{'hide-menu': !isMenuVisible || !user}\">\n\t\t<Header title=\"\" \n\t\t\t:hideToggle=\"!user\"\n\t\t\t:hideUserDropdown=\"!user\" />\n\t\t<Menu v-if=\"user\" />\n\t\t<Loading v-if=\"validatingToken\" />\n\t\t<Content v-else />\n\t\t<Footer />\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\"\nimport { baseApiUrl, userKey } from \"@/global\"\nimport { mapState } from \"vuex\"\nimport Header from \"@/components/dashboard/template/Header\"\nimport Menu from \"@/components/dashboard/template/Menu\"\nimport Content from \"@/components/dashboard/template/Content\"\nimport Footer from \"@/components/dashboard/template/Footer\"\nimport Loading from \"@/components/dashboard/template/Loading\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: { Header, Menu, Content, Footer, Loading },\n\tcomputed: mapState(['isMenuVisible', 'user']),\n\tdata: function() {\n\t\treturn {\n\t\t\tvalidatingToken: true\n\t\t}\n\t},\n\tmethods: {\n\t\tasync validateToken() {\n\t\t\tthis.validatingToken = true\n\n\t\t\tconst json = localStorage.getItem(userKey)\n\t\t\tconst userData = JSON.parse(json)\n\t\t\tthis.$store.commit('setUser', null)\n\n\t\t\tif(!userData) {\n\t\t\t\tthis.validatingToken = false\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst res = await axios.post(`${baseApiUrl}/validateToken`, userData)\n\n\t\t\tif (res.data) {\n\t\t\t\tthis.$store.commit('setUser', userData)\n\t\t\t\t\n\t\t\t\tif(this.$mq === 'xs' || this.$mq === 'sm') {\n\t\t\t\t\tthis.$store.commit('toggleMenu', false)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlocalStorage.removeItem(userKey)\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t}\n\n\t\t\tthis.validatingToken = false\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.validateToken()\n\t}\n}\n</script>\n\n<style>\n\t* {\n\t\tfont-family: 'Source Sans Pro',sans-serif;\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t}\n\n\t#app {\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\n\t\theight: 100vh;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 50px 1fr 20px;\n\t\tgrid-template-columns: 230px 1fr;\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"menu content\"\n\t\t\t\"menu footer\";\n\t}\n\n\t#app.hide-menu {\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"content content\"\n\t\t\t\"footer footer\";\n\t}\n</style>"],"sourceRoot":"src"}]}