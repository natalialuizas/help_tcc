{"remainingRequest":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/natalia/dev/tcc/projeto/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/natalia/dev/tcc/projeto/frontend/src/App.vue","mtime":1572278932260},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyIKaW1wb3J0IHsgYmFzZUFwaVVybCwgdXNlcktleSB9IGZyb20gIkAvZ2xvYmFsIgppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiCmltcG9ydCBIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC90ZW1wbGF0ZS9IZWFkZXIiCmltcG9ydCBNZW51IGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvdGVtcGxhdGUvTWVudSIKaW1wb3J0IENvbnRlbnQgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC90ZW1wbGF0ZS9Db250ZW50IgppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvdGVtcGxhdGUvRm9vdGVyIgppbXBvcnQgTG9hZGluZyBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL3RlbXBsYXRlL0xvYWRpbmciCgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAiQXBwIiwKCWNvbXBvbmVudHM6IHsgSGVhZGVyLCBNZW51LCBDb250ZW50LCBGb290ZXIsIExvYWRpbmcgfSwKCWNvbXB1dGVkOiBtYXBTdGF0ZShbJ2lzTWVudVZpc2libGUnLCAndXNlciddKSwKCWRhdGE6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB7CgkJCXZhbGlkYXRpbmdUb2tlbjogdHJ1ZQoJCX0KCX0sCgltZXRob2RzOiB7CgkJYXN5bmMgdmFsaWRhdGVUb2tlbigpIHsKCQkJdGhpcy52YWxpZGF0aW5nVG9rZW4gPSB0cnVlCgoJCQljb25zdCBqc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odXNlcktleSkKCQkJY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKGpzb24pCgkJCXRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIG51bGwpCgoJCQlpZighdXNlckRhdGEpIHsKCQkJCXRoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2UKCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2F1dGgnIH0pCgkJCQlyZXR1cm4KCQkJfQoKCQkJY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChgJHtiYXNlQXBpVXJsfS92YWxpZGF0ZVRva2VuYCwgdXNlckRhdGEpCgoJCQlpZiAocmVzLmRhdGEpIHsKCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIHVzZXJEYXRhKQoJCQkJCgkJCQlpZih0aGlzLiRtcSA9PT0gJ3hzJyB8fCB0aGlzLiRtcSA9PT0gJ3NtJykgewoJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlTWVudScsIGZhbHNlKQoJCQkJfQoJCQl9IGVsc2UgewoJCQkJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odXNlcktleSkKCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2F1dGgnIH0pCgkJCX0KCgkJCXRoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2UKCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLnZhbGlkYXRlVG9rZW4oKQoJfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\t<div id=\"app\" :class=\"{'hide-menu': !isMenuVisible || !user}\">\n\t\t<Header title=\"\" \n\t\t\t:hideToggle=\"!user\"\n\t\t\t:hideUserDropdown=\"!user\" />\n\t\t<Menu v-if=\"user\" />\n\t\t<Loading v-if=\"validatingToken\" />\n\t\t<Content v-else />\n\t\t<Footer />\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\"\nimport { baseApiUrl, userKey } from \"@/global\"\nimport { mapState } from \"vuex\"\nimport Header from \"@/components/dashboard/template/Header\"\nimport Menu from \"@/components/dashboard/template/Menu\"\nimport Content from \"@/components/dashboard/template/Content\"\nimport Footer from \"@/components/dashboard/template/Footer\"\nimport Loading from \"@/components/dashboard/template/Loading\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: { Header, Menu, Content, Footer, Loading },\n\tcomputed: mapState(['isMenuVisible', 'user']),\n\tdata: function() {\n\t\treturn {\n\t\t\tvalidatingToken: true\n\t\t}\n\t},\n\tmethods: {\n\t\tasync validateToken() {\n\t\t\tthis.validatingToken = true\n\n\t\t\tconst json = localStorage.getItem(userKey)\n\t\t\tconst userData = JSON.parse(json)\n\t\t\tthis.$store.commit('setUser', null)\n\n\t\t\tif(!userData) {\n\t\t\t\tthis.validatingToken = false\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst res = await axios.post(`${baseApiUrl}/validateToken`, userData)\n\n\t\t\tif (res.data) {\n\t\t\t\tthis.$store.commit('setUser', userData)\n\t\t\t\t\n\t\t\t\tif(this.$mq === 'xs' || this.$mq === 'sm') {\n\t\t\t\t\tthis.$store.commit('toggleMenu', false)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlocalStorage.removeItem(userKey)\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t}\n\n\t\t\tthis.validatingToken = false\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.validateToken()\n\t}\n}\n</script>\n\n<style>\n\t* {\n\t\tfont-family: \"Lato\", sans-serif;\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t}\n\n\t#app {\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\n\t\theight: 100vh;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 50px 1fr 20px;\n\t\tgrid-template-columns: 230px 1fr;\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"menu content\"\n\t\t\t\"menu footer\";\n\t}\n\n\t#app.hide-menu {\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"content content\"\n\t\t\t\"footer footer\";\n\t}\n</style>"]}]}