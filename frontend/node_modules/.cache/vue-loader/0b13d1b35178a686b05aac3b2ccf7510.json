{"remainingRequest":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/natalia/dev/tcc/projeto/frontend/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/natalia/dev/tcc/projeto/frontend/src/App.vue","mtime":1572278932260},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/natalia/dev/tcc/projeto/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoqIHsKCWZvbnQtZmFtaWx5OiAiTGF0byIsIHNhbnMtc2VyaWY7Cn0KCmJvZHkgewoJbWFyZ2luOiAwOwp9CgojYXBwIHsKCS13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwoJLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKCgloZWlnaHQ6IDEwMHZoOwoJZGlzcGxheTogZ3JpZDsKCWdyaWQtdGVtcGxhdGUtcm93czogNTBweCAxZnIgMjBweDsKCWdyaWQtdGVtcGxhdGUtY29sdW1uczogMjMwcHggMWZyOwoJZ3JpZC10ZW1wbGF0ZS1hcmVhczoKCQkiaGVhZGVyIGhlYWRlciIKCQkibWVudSBjb250ZW50IgoJCSJtZW51IGZvb3RlciI7Cn0KCiNhcHAuaGlkZS1tZW51IHsKCWdyaWQtdGVtcGxhdGUtYXJlYXM6CgkJImhlYWRlciBoZWFkZXIiCgkJImNvbnRlbnQgY29udGVudCIKCQkiZm9vdGVyIGZvb3RlciI7Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\t<div id=\"app\" :class=\"{'hide-menu': !isMenuVisible || !user}\">\n\t\t<Header title=\"\" \n\t\t\t:hideToggle=\"!user\"\n\t\t\t:hideUserDropdown=\"!user\" />\n\t\t<Menu v-if=\"user\" />\n\t\t<Loading v-if=\"validatingToken\" />\n\t\t<Content v-else />\n\t\t<Footer />\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\"\nimport { baseApiUrl, userKey } from \"@/global\"\nimport { mapState } from \"vuex\"\nimport Header from \"@/components/dashboard/template/Header\"\nimport Menu from \"@/components/dashboard/template/Menu\"\nimport Content from \"@/components/dashboard/template/Content\"\nimport Footer from \"@/components/dashboard/template/Footer\"\nimport Loading from \"@/components/dashboard/template/Loading\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: { Header, Menu, Content, Footer, Loading },\n\tcomputed: mapState(['isMenuVisible', 'user']),\n\tdata: function() {\n\t\treturn {\n\t\t\tvalidatingToken: true\n\t\t}\n\t},\n\tmethods: {\n\t\tasync validateToken() {\n\t\t\tthis.validatingToken = true\n\n\t\t\tconst json = localStorage.getItem(userKey)\n\t\t\tconst userData = JSON.parse(json)\n\t\t\tthis.$store.commit('setUser', null)\n\n\t\t\tif(!userData) {\n\t\t\t\tthis.validatingToken = false\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst res = await axios.post(`${baseApiUrl}/validateToken`, userData)\n\n\t\t\tif (res.data) {\n\t\t\t\tthis.$store.commit('setUser', userData)\n\t\t\t\t\n\t\t\t\tif(this.$mq === 'xs' || this.$mq === 'sm') {\n\t\t\t\t\tthis.$store.commit('toggleMenu', false)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlocalStorage.removeItem(userKey)\n\t\t\t\tthis.$router.push({ name: 'auth' })\n\t\t\t}\n\n\t\t\tthis.validatingToken = false\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.validateToken()\n\t}\n}\n</script>\n\n<style>\n\t* {\n\t\tfont-family: \"Lato\", sans-serif;\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t}\n\n\t#app {\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\n\t\theight: 100vh;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 50px 1fr 20px;\n\t\tgrid-template-columns: 230px 1fr;\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"menu content\"\n\t\t\t\"menu footer\";\n\t}\n\n\t#app.hide-menu {\n\t\tgrid-template-areas:\n\t\t\t\"header header\"\n\t\t\t\"content content\"\n\t\t\t\"footer footer\";\n\t}\n</style>"]}]}